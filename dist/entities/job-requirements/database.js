"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.insertJobRequirementsRowSchema = exports.simplifiedJobRequirementsDomainKeyToTableKey = exports.jobRequirementsDomainKeyToTableKey = exports.jobRequirementsRowSchema = exports.simplifiedJobRequirementsRowSchema = exports.simplifiedJobRequirementsRowShape = void 0;
const zod_1 = require("zod");
const job_1 = require("../job");
const database_1 = require("../job-requirement-type/database");
/**
 * Simplified job requirements row shape - base fields in snake_case (includes id, excludes timestamps)
 * Database row equivalent of SimplifiedJobRequirements
 */
exports.simplifiedJobRequirementsRowShape = {
    id: zod_1.z.uuidv4(),
    job_id: zod_1.z.uuidv4(),
    job_requirement_type_id: zod_1.z.number().int().positive(),
    criteria: zod_1.z.record(zod_1.z.string(), zod_1.z.unknown()),
    priority: zod_1.z.number().int(),
};
/**
 * Simplified job requirements row schema (snake_case, includes id, excludes timestamps)
 * Database row equivalent of SimplifiedJobRequirements
 */
exports.simplifiedJobRequirementsRowSchema = zod_1.z.object(exports.simplifiedJobRequirementsRowShape);
/**
 * Database row schema for job_requirements table (snake_case)
 * Used for validating data coming from the database
 */
exports.jobRequirementsRowSchema = exports.simplifiedJobRequirementsRowSchema.extend({
    created_at: zod_1.z.date(),
    updated_at: zod_1.z.date(),
});
exports.jobRequirementsDomainKeyToTableKey = {
    id: 'id',
    criteria: 'criteria',
    priority: 'priority',
    job: job_1.simplifiedJobDomainKeyToTableKey,
    jobRequirementType: database_1.simplifiedJobRequirementTypeDomainKeyToTableKey,
    createdAt: 'created_at',
    updatedAt: 'updated_at',
};
exports.simplifiedJobRequirementsDomainKeyToTableKey = {
    id: 'id',
    jobId: 'job_id',
    requirementTypeId: 'job_requirement_type_id',
    criteria: 'criteria',
    priority: 'priority',
};
/**
 * Database row schema for inserting a new job requirement (snake_case)
 * Excludes id and timestamps which are generated by the database
 */
exports.insertJobRequirementsRowSchema = zod_1.z.object({
    job_id: zod_1.z.uuidv4(),
    job_requirement_type_id: zod_1.z.number().int().positive(),
    criteria: zod_1.z.record(zod_1.z.string(), zod_1.z.unknown()),
    priority: zod_1.z.number().int(),
});
