"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.insertMessageRowSchema = exports.messageDomainKeyToTableKey = exports.messageRowSchema = void 0;
const zod_1 = require("zod");
const database_1 = require("../conversation/database");
const enums_1 = require("../enums");
/**
 * Database row schema for message table (snake_case)
 * Used for validating data coming from the database
 */
exports.messageRowSchema = zod_1.z.object({
    id: zod_1.z.uuidv4(),
    conversation_id: zod_1.z.uuidv4(),
    sender: enums_1.messageSenderSchema,
    content: zod_1.z.string(),
    created_at: zod_1.z.date(),
});
exports.messageDomainKeyToTableKey = {
    id: 'id',
    sender: 'sender',
    content: 'content',
    createdAt: 'created_at',
    conversation: database_1.simplifiedConversationDomainKeyToTableKey,
};
/**
 * Database row schema for inserting a new message (snake_case)
 * Excludes id and timestamps which are generated by the database
 */
exports.insertMessageRowSchema = zod_1.z.object({
    conversation_id: zod_1.z.uuidv4(),
    sender: enums_1.messageSenderSchema,
    content: zod_1.z.string(),
});
