[
  {
    "testName": "building basic select query for conversation-requirements",
    "input": {
      "selectColumns": ["id", "conversation_id", "requirement_id", "status"],
      "fromTable": "conversation_requirements"
    },
    "expected": {
      "query": "select id, conversation_id, requirement_id, status\n    from conversation_requirements",
      "values": []
    }
  },
  {
    "testName": "building select query for conversation-requirements with WHERE clause",
    "input": {
      "selectColumns": ["id", "status"],
      "fromTable": "conversation_requirements",
      "whereClause": [
        {
          "tableName": "conversation_requirements",
          "column": "status",
          "filter": "=",
          "value": "MET"
        }
      ]
    },
    "expected": {
      "query": "select id, status\n    from conversation_requirements\n    \n    where conversation_requirements.status = $1",
      "values": ["MET"]
    }
  },
  {
    "testName": "building select query for conversation-requirements with JOIN to conversation",
    "input": {
      "selectColumns": ["conversation_requirements.conversation_id", "conversation_requirements.status", "conversation.is_active"],
      "fromTable": "conversation_requirements",
      "joinClauses": [
        {
          "joinOperator": "join",
          "sourceTable": "conversation_requirements",
          "targetTable": "conversation",
          "relationship": [["conversation_id", "id"]]
        }
      ]
    },
    "expected": {
      "query": "select conversation_requirements.conversation_id, conversation_requirements.status, conversation.is_active\n    from conversation_requirements\n    join conversation on conversation_requirements.conversation_id = conversation.id",
      "values": []
    }
  },
  {
    "testName": "building select query for conversation-requirements with JOIN to job_requirement_type",
    "input": {
      "selectColumns": ["conversation_requirements.requirement_id", "conversation_requirements.status", "job_requirement_type.requirement_type"],
      "fromTable": "conversation_requirements",
      "joinClauses": [
        {
          "joinOperator": "join",
          "sourceTable": "conversation_requirements",
          "targetTable": "job_requirement_type",
          "relationship": [["requirement_id", "id"]]
        }
      ]
    },
    "expected": {
      "query": "select conversation_requirements.requirement_id, conversation_requirements.status, job_requirement_type.requirement_type\n    from conversation_requirements\n    join job_requirement_type on conversation_requirements.requirement_id = job_requirement_type.id",
      "values": []
    }
  },
  {
    "testName": "building select query for conversation-requirements with WHERE and JOIN",
    "input": {
      "selectColumns": ["conversation_requirements.status", "conversation.is_active"],
      "fromTable": "conversation_requirements",
      "joinClauses": [
        {
          "joinOperator": "join",
          "sourceTable": "conversation_requirements",
          "targetTable": "conversation",
          "relationship": [["conversation_id", "id"]]
        }
      ],
      "whereClause": [
        {
          "tableName": "conversation_requirements",
          "column": "status",
          "filter": "=",
          "value": "PENDING"
        },
        {
          "tableName": "conversation",
          "column": "is_active",
          "filter": "=",
          "value": true
        }
      ]
    },
    "expected": {
      "query": "select conversation_requirements.status, conversation.is_active\n    from conversation_requirements\n    join conversation on conversation_requirements.conversation_id = conversation.id\n    where conversation_requirements.status = $1 and conversation.is_active = $2",
      "values": ["PENDING", true]
    }
  }
]

